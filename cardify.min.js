"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?factory(require("jquery")):factory(jQuery)}(function($){var createFigure=function($originalImg){var src=$originalImg.attr("src"),alt=$originalImg.attr("alt"),width=$originalImg.width(),height=$originalImg.height(),$img=function(src,alt,width){return $("<img>").addClass("cardify-img").attr("src",src).attr("alt",alt).css({width:width+"px"})}(src,alt,width),$caption=function(text,width,height){return $("<figcaption>").text(text).addClass("cardify-figcaption").css({position:"absolute",top:0,right:0,bottom:0,left:0,width:width,height:height,"text-align":"center","vertical-align":"middle","line-height":height+"px"}).hide()}(alt,width,height);return $("<figure>").addClass("cardify-figure").css({position:"relative",width:width,height:height}).mouseenter(function(){$img.hide(),$caption.show()}).mouseleave(function(){$img.show(),$caption.hide()}).append($img,$caption)};$.fn.cardify=function(options){var images=$(this).find("img"),completed=0,done=function(){(completed+=1)===images.length&&options.onComplete&&options.onComplete()};images.each(function(idx,el){return function($img,done){if($img.attr("alt")){var doReplaceImgWithFigure=function(){$img.replaceWith(createFigure($img)),done()};$img.get(0).complete?doReplaceImgWithFigure():$img.one("load",doReplaceImgWithFigure)}}($(el),done)})}});